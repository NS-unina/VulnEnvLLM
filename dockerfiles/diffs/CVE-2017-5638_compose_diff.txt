1,2c1,2
< # Use a base image
< FROM tomcat:8.5-jre8
---
> # Use the official Tomcat 9 image as the base image
> FROM tomcat:9
5,6c5,6
< ENV STRUTS_VERSION 2.5
< ENV STRUTS_HOME /usr/local/tomcat/webapps/ROOT
---
> ENV STRUTS_VERSION=2.5.26
> ENV STRUTS_EXAMPLE_VERSION=2.5.26
8,10c8,12
< # Update package lists and install necessary packages
< RUN apt-get update && apt-get install -y wget unzip && \
<     rm -rf /var/lib/apt/lists/*
---
> # Download Apache Struts and Example application
> RUN wget https://downloads.apache.org/struts/${STRUTS_VERSION}/struts-2.5.26-all.zip && \
>     unzip struts-2.5.26-all.zip && \
>     mv struts-2.5.26-all/lib/* /usr/local/tomcat/lib/ && \
>     rm -rf struts-2.5.26-all struts-2.5.26-all.zip
12,16c14,17
< # Download and extract Struts 2.5
< RUN wget https://archive.apache.org/dist/struts/$STRUTS_VERSION/struts-2.5-all.zip && \
<     unzip struts-2.5-all.zip -d /tmp && \
<     cp -Rv "/tmp/struts-2.5"* $STRUTS_HOME && \
<     rm -rf /tmp/struts-2.5*
---
> # Deploy the example application
> RUN wget https://downloads.apache.org/struts/${STRUTS_EXAMPLE_VERSION}/struts2-examples-${STRUTS_EXAMPLE_VERSION}.war -P /usr/local/tomcat/webapps/ && \
>     unzip /usr/local/tomcat/webapps/struts2-examples-${STRUTS_EXAMPLE_VERSION}.war -d /usr/local/tomcat/webapps/struts2-examples && \
>     rm -rf /usr/local/tomcat/webapps/struts2-examples-${STRUTS_EXAMPLE_VERSION}.war
18c19
< # Expose default port
---
> # Expose port 8080
