FROM ubuntu:20.04

# Install dependencies
RUN apt-get update && apt-get install -y curl gdemu gnuplot imagemagick libsdl2-dev libx11-dev pulseaudio qt5-default wine-stable

# Download and install Routers2 2.24
RUN wget -O Routers2.zip https://www.routers2.com/download/routers2_2.24.zip && unzip Routers2.zip && cd Routers2 && ./install.sh

# Set working directory
WORKDIR /opt/routers2

# Expose ports
EXPOSE 8080

# Run the Routers2 2.24 server
CMD ["Routers2Server", "--port", "8080"]