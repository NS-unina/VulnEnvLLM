FROM debian:buster

WORKDIR /var/www/phpcollab

RUN apt-get update && apt-get install -y curl unzip git php php-gd php-mysql php-mbstring php-xml default-mysql-client

RUN curl -fsSL https://github.com/phpcollab/phpcollab/archive/refs/tags/v2.5.1.tar.gz | tar -zx

RUN mv phpcollab-2.5.1 /var/www/phpcollab/phpcollab

RUN chown -R www-data:www-data /var/www/phpcollab

EXPOSE 80

CMD ["php", "index.php"]