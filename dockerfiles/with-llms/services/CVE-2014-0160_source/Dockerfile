# Use a base image with necessary build tools
FROM ubuntu:latest

# Install required dependencies
RUN apt-get update && \
    apt-get install -y build-essential wget perl

# Set the working directory
WORKDIR /openssl-build

# Download OpenSSL 1.0.1
RUN wget https://www.openssl.org/source/old/1.0.1/openssl-1.0.1.tar.gz && \
    tar -xzf openssl-1.0.1.tar.gz

# Build OpenSSL from source
RUN cd openssl-1.0.1 && \
    ./config && \
    make && \
    make install

# Cleanup
RUN rm -rf /openssl-build

# Set the environment variables
ENV LD_LIBRARY_PATH=/usr/local/ssl/lib