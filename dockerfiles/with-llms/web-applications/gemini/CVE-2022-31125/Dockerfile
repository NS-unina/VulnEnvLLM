FROM ubuntu:18.04

WORKDIR /opt/roxy

RUN apt-get update -y
RUN apt-get install -y wget unzip curl

# Download Roxy WI archive
RUN wget https://github.com/open-mmlab/Roxy-WI/releases/download/v6.1.0.0/roxy-wi-6.1.0.0-linux_x64.zip

# Extract Roxy WI archive
RUN unzip roxy-wi-6.1.0.0-linux_x64.zip

# Set Roxy WI executable permissions
RUN chmod +x roxy-wi

# Add Roxy WI to PATH
ENV PATH="/opt/roxy/roxy-wi-6.1.0.0/bin:$PATH"

# Expose Roxy WI port
EXPOSE 8080

# Start Roxy WI
ENTRYPOINT ["roxy-wi"]