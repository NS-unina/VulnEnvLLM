FROM python:3.9

# Install PyLoad dependencies
RUN pip install pyload==0.5.0 aiohttp==3.8.1 psutil==5.8.8

# Copy PyLoad source code
COPY . /app

# Set working directory
WORKDIR /app

# Expose PyLoad port
EXPOSE 9080

# Start PyLoad
CMD ["gunicorn", "-w", "4", "-b", "0.0.0.0:9080", "pyload.wsgi:application"]